<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <script type="text/javascript">
      //Creamos un constructor para los viajeros
      function Viajero(nombre,apellido1,apellido2,edad,paises,targetapuntos){
        this.nombre = nombre;
        this.apellido1 = apellido1;
        this.apellido2 = apellido2;
        this.edad = edad;
        this.paises = paises;
        this.targetapuntos = targetapuntos;
      }
      let viajeroHash = new Map();

      function MostrarPaises(){
        var idViajero = parseInt(prompt("introduce el id del cliente a var sus paises"));
        viajeroHash.get(idViajero).paises.forEach(pais => {
          alert(pais);
        });
      }
      var j=0;
      function CrearNuevoViajero(){
            let paisesSet = new Set();
            j++;
            var nombre = prompt("introduce el nombre del pasajero");
            var apellido1 = prompt("introduce el primer apellido del pasajero");
            var apellido2 = prompt("introduce el segundo apellido del pasajero");
            var edad = prompt("introduce la edad del pasajero");
            do{
              var paises = prompt("introduce los paises visitados, para terminar deja en blanco y dale a enter");
              paisesSet.add(paises);
            }while(paises.toUpperCase()!="");
            var targeta = prompt("Si posee targeta de puntos diga si en defecto diga no");
            var persona3 = new Viajero(nombre,apellido1,apellido2,edad,paisesSet,targeta);
            viajeroHash.set(j, persona3);
          }

       function EliminarViajero(){
          while(continuar!=0){
              var id = parseInt(prompt("introduce el id del cliente a eliminar"));
              viajeroHash.delete(id);
                  var continuar = prompt("para acabar pulse 0 para seguir cualquier numero");
                    }
                }    

        function MostrarViajeros(){
            viajeroHash.forEach((element,key) => alert("El cliente: "+element.nombre+" "+element.apellido1+" "+element.apellido2+" con edad: "+
            element.edad+" posee targeta de puntos? "+element.targetapuntos+".Ha visitado: "+[...element.paises]));
          }

        function AñadirPais(){
            var idusuario=parseInt(prompt("introduce un usuario para añadir paises"));
            var pais= prompt("introduce pais");
            viajeroHash.get(idusuario).paises.add(pais);

          }

        function EliminarPais(){
            var idusuario=parseInt(prompt("introduce un usuario para eliminar para eliminar paises"));
            var pais=prompt("Introduce el nombre del pais a eliminar");
            viajeroHash.get(idusuario).paises.delete(pais);
          }

        var opcion=prompt("Menu \n"+
        "1.Crear\n"+
        "2.Eliminar\n"+
        "3.Mostrarviajeros\n"+
        "4.Eliminarpais\n"+
        "5.Agregarpais\n"+
        "6.Mostrarpaises\n");

        while(opcion!=""){
          switch (opcion) {
            case '1':
              CrearNuevoViajero();
              opcion=prompt("Menu \n"+
             "1.Crear\n"+
             "2.Eliminar\n"+
             "3.Mostrarviajeros\n"+
             "4.Eliminarpais\n"+
             "5.Agregarpais\n"+
             "6.Mostrarpaises\n");
              break;
            case '2':
              EliminarViajero();
              opcion=prompt("Menu \n"+
             "1.Crear\n"+
             "2.Eliminar\n"+
             "3.Mostrarviajeros\n"+
             "4.Eliminarpais\n"+
             "5.Agregarpais\n"+
             "6.Mostrarpaises\n");
              break;
            case '3':
              MostrarViajeros();
              opcion=prompt("Menu \n"+
             "1.Crear\n"+
             "2.Eliminar\n"+
             "3.Mostrarviajeros\n"+
             "4.Eliminarpais\n"+
             "5.Agregarpais\n"+
             "6.Mostrarpaises\n");
              break;
            case '4':
              EliminarPais();
              opcion=prompt("Menu \n"+
             "1.Crear\n"+
             "2.Eliminar\n"+
             "3.Mostrarviajeros\n"+
             "4.Eliminarpais\n"+
             "5.Agregarpais\n"+
             "6.Mostrarpaises\n");
              break;
            case '5':
              AñadirPais();
              opcion=prompt("Menu \n"+
             "1.Crear\n"+
             "2.Eliminar\n"+
             "3.Mostrarviajeros\n"+
             "4.Eliminarpais\n"+
             "5.Agregarpais\n"+
             "6.Mostrarpaises\n");
              break;
            case '6':
              MostrarPaises();
              opcion=prompt("Menu \n"+
              "1.Crear\n"+
              "2.Eliminar\n"+
              "3.Mostrarviajeros\n"+
              "4.Eliminarpais\n"+
              "5.Agregarpais\n"+
              "6.Mostrarpaises\n");
              break;
            default:
              opcion="";
              alert('adios');


          }
        }














    </script>
  </head>
  <body>

  </body>
</html>
